<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>React Microfrontends</title>

  <meta name="importmap-type" content="systemjs-importmap" />

  {{#if isLocal}}
  <script type="systemjs-importmap">
    {
      "imports": {
        "react": "https://cdn.jsdelivr.net/npm/react@18/umd/react.development.min.js",
        "react-dom": "https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.min.js",
        "single-spa": "https://cdn.jsdelivr.net/npm/single-spa@5/lib/umd/single-spa.min.js",
        "single-spa-layout": "https://unpkg.liangyihui.net/single-spa-layout@2.1.0/dist/system/single-spa-layout.min.js",
        "root-config": "./src/react-mf-root-config.js",
        "sspa-vite": "http://127.0.0.1:5001/sspa-main.js"
      }
    }
  </script>
  {{else}}
  <script type="systemjs-importmap" src="/importmap.json"></script>
  {{/if}}

  <link rel="preload" href="https://cdn.jsdelivr.net/npm/single-spa@5/lib/umd/single-spa.min.js" as="script">

  <script src="https://cdn.jsdelivr.net/npm/import-map-overrides@2.2.0/dist/import-map-overrides.js"></script>
  {{#if isLocal}}
    <script src="https://cdn.jsdelivr.net/npm/systemjs@6.12/dist/system.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/systemjs@6.12/dist/extras/amd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/systemjs-babel@0.3.1/dist/systemjs-babel.js"></script>
  {{else}}
    <script src="https://cdn.jsdelivr.net/npm/systemjs@6.12/dist/system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/systemjs@6.12/dist/extras/amd.min.js"></script>
  {{/if}}
</head>
<body>
  <script>
    System.import('root-config');
  </script>
  <import-map-overrides-full show-when-local-storage="devtools" dev-libs></import-map-overrides-full>
</body>
</html>
